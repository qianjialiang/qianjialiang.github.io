(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2a7f"],{"+Lc1":function(t,e,a){"use strict";a.d(e,"b",function(){return l}),a.d(e,"d",function(){return o}),a.d(e,"g",function(){return r}),a.d(e,"e",function(){return i}),a.d(e,"f",function(){return s}),a.d(e,"c",function(){return c}),a.d(e,"a",function(){return u}),a.d(e,"h",function(){return d});var n=a("t3Un");function l(t){return Object(n.a)({url:"/order/days",method:"get",params:t})}function o(t){return Object(n.a)({url:"/order/task",method:"get",params:t})}function r(t){return Object(n.a)({url:"/order/distribute",method:"post",params:t})}function i(t){return Object(n.a)({url:"/order/unfinished",method:"get",params:t})}function s(t){return Object(n.a)({url:"/order/unfinished-detail-list",method:"get",params:t})}function c(t){return Object(n.a)({url:"/order/detail",method:"get",params:t})}function u(t){return Object(n.a)({url:"/order/bad",method:"get",params:t})}function d(t){return Object(n.a)({url:"/order/redo",method:"post",params:t})}},cFZ7:function(t,e,a){"use strict";a.r(e);var n=a("+Lc1"),l=a("t3Un");var o={data:function(){return{list:null,topList:null,topProcessList:null,topDetail:{},listLoading:!0,listTopLoading:!0,visibilityTopDiv:!1,visibilityDetail:!1,totalRecord:0,topTotalRecord:0,getData:{page:1,pageSize:10},getTopData:{page:1,pageSize:10,saleNumber:"",produceNumber:"",process:""}}},created:function(){this.$emit("sendValueToType","unfinished"),this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,Object(n.e)(this.getData).then(function(e){t.list=e.data.dataList,t.totalRecord=e.data.totalRecord,t.listLoading=!1})},handleSizeChange:function(t){this.getData.pageSize=t,this.fetchData()},handleCurrentChange:function(t){this.getData.page=t,this.fetchData()},handleTopSizeChange:function(t){this.getData.pageSize=t,this.fetchTopData()},handleTopCurrentChange:function(t){this.getData.page=t,this.fetchTopData()},openTop:function(t){this.visibilityTopDiv=!0,this.getTopData.saleNumber=t,this.fetchTopData(),this.GetProcessLists()},GetProcessLists:function(){var t=this;(function(t){return Object(l.a)({url:"/process/lists",method:"get",params:t})})().then(function(e){t.topProcessList=e.data.dataList})},changeProcess:function(t){this.getTopData.process=t,this.searchFetchTopData()},fetchTopData:function(){var t=this;this.listTopLoading=!0,Object(n.f)(this.getTopData).then(function(e){t.topList=e.data.dataList,t.topTotalRecord=e.data.totalRecord,t.listTopLoading=!1})},searchFetchTopData:function(){this.topList=[],this.getTopData.page=1,this.fetchTopData()},resetFetchTopData:function(){var t=this.getTopData.saleNumber;this.getTopData={page:1,pageSize:10,saleNumber:t,produceNumber:"",process:""},this.fetchTopData()},GetOrderDetail:function(t){var e=this;Object(n.c)({produceNumber:t}).then(function(t){e.visibilityDetail=!0,e.topDetail=t.data})}}},r=a("KHd+"),i=Object(r.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"序号",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.$index+1)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"销售订单号",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.sale_number)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"客户简称",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.customer_name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"生产总数",align:"center",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.number)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"开料",align:"center",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.kailiao)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"压榨",align:"center",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.yazha)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"包装",align:"center",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.baozhuang)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"报损",align:"center",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.bad)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"入库",align:"center",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.ruku)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"完成进度",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.progress)+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.openTop(e.row.sale_number)}}},[t._v("查看")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"page-sizes":[10,20,30],"page-size":10,total:t.totalRecord,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{attrs:{id:"unfinished-detail-list",visible:t.visibilityTopDiv,title:"未完成生产订单详情",top:"10vh"},on:{"update:visible":function(e){t.visibilityTopDiv=e}}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{width:"200",placeholder:"请输入生产序号",clearable:""},model:{value:t.getTopData.produceNumber,callback:function(e){t.$set(t.getTopData,"produceNumber",e)},expression:"getTopData.produceNumber"}})],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(e){t.searchFetchTopData()}}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:function(e){t.resetFetchTopData()}}},[t._v("重置")])],1)],1),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:4}},[a("el-tabs",{attrs:{stretch:"",type:"border-card"}},[a("el-tab-pane",{attrs:{label:"工序"}},t._l(t.topProcessList,function(e){return a("p",{key:e.id,class:{active:t.getTopData.process===e.id},on:{click:function(a){t.changeProcess(e.id)}}},[t._v(t._s(e.name))])})),t._v(" "),a("el-tab-pane",{attrs:{label:"颜色"}},[t._v("颜色")]),t._v(" "),a("el-tab-pane",{attrs:{label:"型号"}},[t._v("型号")])],1)],1),t._v(" "),a("el-col",{attrs:{span:20}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listTopLoading,expression:"listTopLoading"}],attrs:{data:t.topList,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"序号",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.$index+1)+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"生产序号",align:"center",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.produce_number)+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"型号",align:"center",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.specification_model))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"颜色",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.color)+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"尺寸",align:"center",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.size)+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.remark)+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作工序",align:"center",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.process_name)+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作组",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.group_name)+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否报损",align:"center",width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(1===e.row.is_bad?"是":"否")+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.GetOrderDetail(e.row.produce_number)}}},[t._v("详情")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"page-sizes":[10,20,30],"page-size":10,total:t.topTotalRecord,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleTopSizeChange,"current-change":t.handleTopCurrentChange}})],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{id:"unfinished-detail",visible:t.visibilityDetail,width:"550px",title:"生产详情"},on:{"update:visible":function(e){t.visibilityDetail=e}}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-row",[a("el-col",{attrs:{span:8}},[t._v("销售订单号：")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v(t._s(t.topDetail.sale_number))])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[t._v("生产序号：")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v(t._s(t.topDetail.produce_number))])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[t._v("型号：")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v(t._s(t.topDetail.specification_model))])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[t._v("颜色：")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v(t._s(t.topDetail.color))])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[t._v("尺寸：")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v(t._s(t.topDetail.size))])],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[t._v("\n        "+t._s("")+"\n      ")])],1),t._v(" "),t._l(t.topDetail.processInfo,function(e){return a("div",{key:e.process_id},[a("h4",[t._v("\n        "+t._s(e.process_name)+"\n        "),t.topDetail.now_process===e.process_id?a("el-button",{attrs:{type:"primary",plain:"",round:"",size:"mini",disabled:""}},[t._v("当前工序")]):t._e()],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:18}},[a("el-row",[a("el-col",{attrs:{span:8}},[t._v("加工组：")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v(t._s(e.group_name))])],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:8}},[t._v("加工开始时间：")]),t._v(" "),a("el-col",{attrs:{span:16}},[t._v(t._s(e.start_time))])],1)],1)],1)],1)})],2)],1)},[],!1,null,null,null);i.options.__file="unfinished.vue";e.default=i.exports}}]);